import numpy as np
import pandas as pd
import datetime
import sys
sys.path.append('..')
import util.db as db
import util.plot as plot
import pprint


data = [('TPHS', 0.1686746987951807228915662651),
 ('SIEN', 0.1924882629107981220657276995),
 ('SNDX', 0.2957422324510932105868814730),
 ('SHLO', 0.1611665387567152724481964697),
 ('CAE', 0.07730496453900709219858156028),
 ('XONE', 0.1115745568300312825860271116),
 ('PBT', 0.05466970387243735763097949886),
 ('AYA', 0.03521126760563380281690140845),
 ('USAK', 0.3352517985611510791366906475),
 ('ADX', 0.03330809992429977289931869796),
 ('SUPV', 0.09520451339915373765867418900),
 ('RMT', 0.03498190591073582629674306393),
 ('UIHC', 0.2671181339352896914973664409),
 ('TCPC', 0.02088305489260143198090692124),
 ('CAI', 0.03673469387755102040816326531),
 ('ATRA', 0.07641196013289036544850498339),
 ('FLWS', 0.04615384615384615384615384615),
 ('INSW', 0.1030092592592592592592592593),
 ('CBZ', 0.03861003861003861003861003861),
 ('GNK', 0.3031319910514541387024608501),
 ('WK', 0.1640625),
 ('ATRC', 0.06048150322959483264826776277),
 ('CSU', 0.04531722054380664652567975831),
 ('CII', 0.02139800285306704707560627675),
 ('STS', 0.09425785482123510292524377031),
 ('FOR', 0.04263565891472868217054263566),
 ('CRF', 0.03691496374423203691496374423),
 ('QHC', 0.08024691358024691358024691358),
 ('WMC', 0.01966568338249754178957718781),
 ('ETG', 0.01980198019801980198019801980),
 ('NYLD.A', 0.02871105681124007330482590104),
 ('BRKL', 0.0546875),
 ('AKBA', 0.02732793522267206477732793522),
 ('PID', 0.02260273972602739726027397260),
 ('ADRO', 0.03571428571428571428571428571),
 ('AHH', 0.03817914831130690161527165932),
 ('PLSE', 1.184407796101949025487256372),
 ('ETM', 0.04635761589403973509933774834),
 ('BW', 0.04528985507246376811594202899),
 ('MNR', 0.02209944751381215469613259669),
 ('WLH', 0.1087595532039976484420928865),
 ('RQI', 0.04574132492113564668769716088),
 ('VNOM', 0.07298410829899941141848145968),
 ('BIF', 0.03179824561403508771929824561),
 ('HASI', 0.09090909090909090909090909091),
 ('RVT', 0.03655913978494623655913978495),
 ('HCKT', 0.2296884544899205864386072083),
 ('PBPB', 0.076),
 ('LFC', 0.02943143812709030100334448161)];



df = pd.DataFrame(data,columns=['id','profit'])
np = np.array(df.sort(['profit'])[30:])
df = pd.DataFrame(np,index=range(len(np)))


for i in range(df.shape[0]):
    # print df[i]
    ticker = df.loc[i]
    print ticker,'========================='
    ticker_id = ticker[0]
    plot.plotCurrentMeanStd(ticker_id)


